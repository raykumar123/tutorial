<html>
<body>
  <form onsubmit="addNewExpense(event)">
  <label for="expenseamount">Selling Price:</label> </label>
  <input type="number" name="expenseamount" required ></input>
  <label for="description">Product Name:</label> 
  <input type="text" name="description" id="emailInputTag" required></input>
  <label for="category">Choose a Category:</label>
  <select id="category" name="category">
    <option value="Electronics">Electronics</option>
    <option value="Food">Food</option>
    <option value="Skincare">Skincare</option>
  </select>
  <button> Add Products</button>
  </form>
<div id='listOfitems'></div>
<h1>Products</h1>
<h2 id="p1">Electronics items</h2>
<h2 id="p2">Food items</h2>
<h2 id="p3">Skincare items</h2>
<script>
        function addNewExpense(event) {
    event.preventDefault();

       const  expense = event.target.expenseamount.value;
        const description = event.target.description.value;
        const  category = event.target.category.value;
        var obj = {
            expense,
            description,
            category
        }
        localStorage.setItem(obj.expenseamount, JSON.stringify(obj));
        localStorage.setItem(obj.description, JSON.stringify(obj));
        localStorage.setItem(obj.category, JSON.stringify(obj));
        showUserOnScreen(obj)
    }
function showUserOnScreen(obj){
     const parentElem =document.getElementById('listOfitems')
     const childElem =document.createElement('li')
   //parentElem.innerHTML=parentElem.innerHTML+ `<li>${obj.name} - ${obj.email}</li>`
   childElem.textContent=obj.expenseamount + ' - ' + obj.description + ' -  ' +obj.category + ' - '
   if(obj.category==='Electronics')
   {
    p1.innerHTML=p1.innerHTML +`<li class="p1" id="${obj.Pname}">${obj.expense}-${obj.description}-${obj.category}
      <button class="btn1" onClick="deleteobj('${obj.Pname}')">Delete</button></li>`
   }
   else if(obj.category==='Food')
   {
    p2.innerHTML=p1.innerHTML +`<li class="p2" id="${obj.Pname}">${obj.expense}-${obj.description}-${obj.category}
      <button class="btn1" onClick="deleteobj('${obj.Pname}')">Delete</button></li>`
    }
    else(obj.category==='Skincare')
   {
    p3.innerHTML=p3.innerHTML +`<li class="p3" id="${obj.Pname}">${obj.expense}-${obj.description}-${obj.category}
      <button class="btn1" onClick="deleteobj('${obj.Pname}')">Delete</button></li>`
    }
   const ExpDelButton =document.createElement('input')
   ExpDelButton.type="button"
   ExpDelButton.value='Delete Expense'
   //ExpDelButton.onclick =() => {
    //localStorage.removeItem(obj.description)
   parentElem.removeChild(childElem)
  // }

  const editButton =document.createElement('input')
    editButton.type="button"
    editButton.value='Edit Expense'
   editButton.onclick =() => {
     localStorage.removeItem(obj.description)
    parentElem.removeChild(childElem)
    document.getElementById('priceInputTag').value = obj.expenseamount
    document.getElementById('emailInputTag').value = obj.description
    document.getElementById('itemsInputTag').value = obj.category
   }
   
   childElem.appendChild(Button)
   childElem.appendChild(editButton)
   parentElem.appendChild(childElem)

</script>
  </body>
</html>
